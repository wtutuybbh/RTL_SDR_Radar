# RTL_SDR_Radar

СПО для приема и демодуляции самолетных ответчиков на частоте 1090 МГц. 
Полученная информация выводится на картографическую проекцию openStreetMaps.

# RadarApp
АРМ "Пост контроля воздушного движения". Отвечает за приём, обработку и вывод информации о движении воздушных судов на картографическую проекцию, а так же дублирование данной информации в табличном представлении.
  Источником данных :
  - Приемник RTL-SDR v3
  
![radar2-2021-01-31_18 01 51(3)](https://user-images.githubusercontent.com/34423525/106516266-d9d88200-64e7-11eb-9836-778b7cdc3b54.gif)

  Основной функционал и возможности :
   - Прием и демодуляция данных от приемника RTL-SDR v3 в режиме многопоточной обработки данных
   - Вывод на картографическую проекцию OpenStreetMap движение воздушных судов
   - Вывод в таблицу основных характеристик воздушного судна: icao, наименование рейса, скорость, высота, азимут,дальность, геокоординаты.
   - Вывод в терминал информацию о результатах демодуляции
   - Вывод спектра, огибающей и водопада оцифрованного сигнала
   - Различные режимы работы : радар, круговой обзор, свободное перемещение карты (в разработке)
   - Возможность задания центральной географической точки приема.
     
# RaspberryApp
Легковесное терминальное приложение для raspberry pi. Осуществляет приём, демодуляцию данных. 
Выполняет роль "выносного датчика". Полученная информация о самолётах упаковывается в бинарный формат (согласно внутреннему протоколу информационного сопряжения) и передается на сервер обработки данных по каналу udp.
Сервер обработки данных реализован на языке программирования golang с использованием микросервисной архитектуры (https://github.com/art-injener/RTL_SDR_Server).

![rasp-2021-01-31_18 08 30](https://user-images.githubusercontent.com/34423525/106517777-01304e80-64ea-11eb-9738-d473833c82c4.gif)

# TechnologicSoft
Технологическое ПО, для анализа радиотехнической обстановки в эфире
  Предоставлет следующий функционал:
  - Вывод огибающей принятого сигнала
  - Вывод мгновенного спектра сигнала (используется библиотека http://www.fftw.org/ ver3)
  - Вывод огибающей в режиме накопления
  - Вывод огибающей в режиме пикового детектора
  - Перестройка частоты
  
![Видео пример](https://user-images.githubusercontent.com/34423525/106398953-f365c500-6426-11eb-8b0d-2f0889293256.mp4)

Для приема сигналов используется :
1. Приемник RTL-SDR v3 на базе Realtek RTL2832 
2. Антенна Харченко 

# Инструкция по сборке:

  0. Окружение:
  
    ubuntu 20.04
    Qt  5.12.8. Для сборки требуется эта версия или же более позняя. 
    Clone from git master branch : git clone https://github.com/art-injener/RTL_SDR_Radar.git
    
  1. Установка требуемых библиотек :
  
    sudo apt install qt5-default  // или устновить нужную версию с сайта https://www.qt.io/download-qt-installer
    sudo apt install qtcreator 
    sudo apt install libfftw3-bin
    sudo apt install libfftw3-dev 
    sudo apt install libfftw3-double3
    sudo apt install libfftw3-long3
    sudo apt install libfftw3-quad3
    sudo apt install libfftw3-single3
    sudo apt install libusb-1.0-0
    sudo apt install libusb-1.0-0-dev

  2. Необходимо скопировать файл с правами на работу с устройством. Для этого перейдите в папку RTL_SDR_Radar и выполните следующую команду:
  
    sudo cp ./import/sdr_dev/rtl-sdr.rules /etc/udev/rules.d/
    
  3. Далее нужно внести в blacklist драйвер по умолчанию, который загружается для TV устройства, т.к. он не работает как SDR и будет конфликтовать с новым драйвером. 
    В директории /etc/modprobe.d создаем новый файл blacklist-rtl.conf или просто дописываем в конец файла blacklist.conf строку : blacklist dvb_usb_rtl28xxu. 
    После чего необходимо перезагрузить компьютер.
  4. Перейти в папку RTL_SDR_Radar/scripts/debug или RTL_SDR_Radar/scripts/release и выполнить скрипт builder.sh

  5. Для запуска приложений необходимо использовать скрипты startRadarApp.sh, startRaspberryApp.sh, startTechSoft.sh

  6. При запуске через qtCreator ОБЯЗАТЕЛЬНО необходимо отключить теневую сборку.

Информация для изучения:
http://sdr.osmocom.org/trac/wiki/rtl-sdr
